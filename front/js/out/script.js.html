<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: script.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: script.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Créé une balise &lt;element>, si des attributs sont présents, implémente ces attributs dans la balise
 * @param {String} element
 * @param {String[]} attribut
 * @param {String[]} attributName
 * Taille de attribut et attributName doivent être égales
 * @returns {HTMLElement}
 */
function newElement(element, attribut, attributName) {
  let newElt = document.createElement(element);
  if (arguments.length &lt; 2) {
    return newElt;
  } else {
    for (i in attribut) {
      newElt.setAttribute(attribut[i], attributName[i]);
    }
    return newElt;
  }
}

/**
 * Récupère la liste des produits de l'API
 * @async
 * @returns {Promise&lt;Object>}
 */
 async function getAllProductsFromAPI() {
   try {
     let response = await fetch("http://localhost:3000/api/products/");
     let resJson = await response.json();
     return resJson;
   } catch (err) {
     let itemsTag = document.getElementById("items");
     itemsTag.textContent = "Articles introuvables!";
     let message = `Impossible de trouver l'API`;
     throw new Error(message);
   }
 }

/**
 * Crée les éléments HTML nécessaires en récupérant la liste des produits pour les afficher sur la page
 */
async function displayProducts() {
  let itemsTag = document.getElementById("items");
  let productList = await getAllProductsFromAPI();
  for (let i in productList) {
    let productLink = newElement(
      "a",
      ["href"],
      [`./product.html?id=${productList[i]._id}`]
    );

    let productArticle = newElement("article");

    let productImage = newElement(
      "img",
      ["src", "alt"],
      [productList[i].imageUrl, productList[i].altTxt]
    );

    let productName = newElement("h3", ["class"], ["productName"]);

    let productDescription = newElement("p", ["class"], ["produitDescription"]);

    productName.textContent = productList[i].name;
    productDescription.textContent = productList[i].description;

    itemsTag.appendChild(productLink);
    productLink.appendChild(productArticle);
    productArticle.appendChild(productImage);
    productArticle.appendChild(productName);
    productArticle.appendChild(productDescription);
  }
}

displayProducts();
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addressRegex">addressRegex</a></li><li><a href="global.html#cartPage">cartPage</a></li><li><a href="global.html#checkInformations">checkInformations</a></li><li><a href="global.html#createTag">createTag</a></li><li><a href="global.html#deleteProduct">deleteProduct</a></li><li><a href="global.html#displayCart">displayCart</a></li><li><a href="global.html#displayEmptyCart">displayEmptyCart</a></li><li><a href="global.html#displayProductById">displayProductById</a></li><li><a href="global.html#displayProducts">displayProducts</a></li><li><a href="global.html#emailRegex">emailRegex</a></li><li><a href="global.html#getAllProductsFromAPI">getAllProductsFromAPI</a></li><li><a href="global.html#getCustomerInformations">getCustomerInformations</a></li><li><a href="global.html#getIdFromUrl">getIdFromUrl</a></li><li><a href="global.html#getProductByIdFromAPI">getProductByIdFromAPI</a></li><li><a href="global.html#getProductFromAPI">getProductFromAPI</a></li><li><a href="global.html#getProductsIdFromCart">getProductsIdFromCart</a></li><li><a href="global.html#getTotalPriceOfCart">getTotalPriceOfCart</a></li><li><a href="global.html#getTotalQuantityOfCart">getTotalQuantityOfCart</a></li><li><a href="global.html#goToCartPage">goToCartPage</a></li><li><a href="global.html#inputCheck">inputCheck</a></li><li><a href="global.html#newElement">newElement</a></li><li><a href="global.html#orderProductFromCart">orderProductFromCart</a></li><li><a href="global.html#productPage">productPage</a></li><li><a href="global.html#searchProductInCart">searchProductInCart</a></li><li><a href="global.html#sendInformations">sendInformations</a></li><li><a href="global.html#setOptions">setOptions</a></li><li><a href="global.html#updateQuantity">updateQuantity</a></li><li><a href="global.html#updateStorage">updateStorage</a></li><li><a href="global.html#verifyQuantityAndColors">verifyQuantityAndColors</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.10</a> on Tue Apr 12 2022 16:29:37 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
